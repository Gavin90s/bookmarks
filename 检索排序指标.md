nDCG@10 是衡量信息检索系统或推荐系统性能的一个指标，它主要用来评估搜索结果的相关性。nDCG 代表“归一化折扣累积增益”（Normalized Discounted Cumulative Gain），而“@10”表示我们只考虑前 10 个结果。

下面是对 nDCG@10 的详细解释：

1. **累积增益（Cumulative Gain, CG）**：
   - 首先，我们需要计算每个结果的“增益”。在搜索或推荐系统中，增益通常是与用户实际感兴趣的相关性有关的评分，例如“相关性分数”。
   - 对于每个结果位置 \( i \)，累积增益是所有位置 \( i \) 结果的相关性分数之和。例如，假设前 10 个结果的相关性分数是 \( [3, 2, 3, 0, 1, 2, 0, 1, 0, 2] \)，那么累积增益（CG）可以计算为这些分数的和。

2. **折扣累积增益（Discounted Cumulative Gain, DCG）**：
   - 在计算 DCG 时，我们要考虑结果的位置，因为用户对前面的位置更感兴趣。因此，结果位置 \( i \) 的增益会被折扣因子（通常是 \( \log_2(i+1) \)）所调整。
   - DCG 是所有位置的增益除以相应的折扣因子的和。例如，对于位置 \( i \) 的相关性分数 \( rel_i \)，折扣后的增益计算为 \( \frac{rel_i}{\log_2(i+1)} \)。

3. **理想折扣累积增益（Ideal Discounted Cumulative Gain, IDCG）**：
   - IDCG 是在完美排序下的 DCG，假设所有相关的结果都排在前面，即结果的相关性分数按降序排列。
   - 计算方法与 DCG 类似，只是排序方式是最理想的情况。

4. **归一化折扣累积增益（Normalized Discounted Cumulative Gain, nDCG）**：
   - nDCG 是通过将实际的 DCG 除以 IDCG 来获得的。这种归一化的做法可以将不同查询或推荐的性能标准化，使得不同系统之间的比较变得更为公平。
   - nDCG 的值范围在 0 到 1 之间，其中 1 表示系统返回的结果是完全理想的排序。

**公式总结**：

\[ \text{DCG}_k = \sum_{i=1}^{k} \frac{rel_i}{\log_2(i+1)} \]

\[ \text{IDCG}_k = \text{DCG}_k \text{（对于理想排序）} \]

\[ \text{nDCG}_k = \frac{\text{DCG}_k}{\text{IDCG}_k} \]

在 nDCG@10 中，我们考虑的是前 10 个结果。因此，这个指标提供了一个关于系统在最相关的 10 个结果中表现的衡量标准。
